/* EchoNote 样式文件 */
@import "tailwindcss";

/* CSS 变量定义 - 浅色模式 */
:root {
    /* 主色调 */
    --color-primary: #007aff;
    --color-primary-hover: rgba(0, 122, 255, 0.1);
    --color-primary-light: rgba(0, 122, 255, 0.05);

    /* 强调色 */
    --color-success: #34c759;
    --color-success-light: rgba(52, 199, 89, 0.1);
    --color-warning: #ffd60a;

    /* 文字颜色 */
    --color-text-primary: #1d1d1f;
    --color-text-secondary: #86868b;
    --color-text-tertiary: rgba(134, 134, 139, 0.4);
    --color-text-inverse: #ffffff;

    /* 背景颜色 */
    --color-bg-primary: #ffffff;
    --color-bg-secondary: rgba(255, 255, 255, 0.8);
    --color-bg-tertiary: rgba(255, 255, 255, 0.5);
    --color-bg-quaternary: rgba(255, 255, 255, 0.4);
    --color-bg-hover: rgba(0, 0, 0, 0.05);

    /* 边框颜色 */
    --color-border-primary: rgba(0, 0, 0, 0.05);
    --color-border-secondary: rgba(0, 0, 0, 0.1);

    /* 背景渐变 */
    --bg-gradient: linear-gradient(135deg, #fdfbfb 0%, #f7f4f1 50%, #faf8f5 100%);

    /* 滚动条颜色 */
    --scrollbar-thumb: rgba(0, 0, 0, 0.15);
    --scrollbar-thumb-hover: rgba(0, 0, 0, 0.25);

    /* 便利贴背景 */
    --note-bg: #fef9e7;
    --note-grid: rgba(0, 0, 0, 0.008);
    --note-grid-size: 22px;
}

/* CSS 变量定义 - 深色模式 */
[data-theme="dark"] {
    /* 主色调 */
    --color-primary: #0a84ff;
    --color-primary-hover: rgba(10, 132, 255, 0.2);
    --color-primary-light: rgba(10, 132, 255, 0.1);

    /* 强调色 */
    --color-success: #30d158;
    --color-success-light: rgba(48, 209, 88, 0.2);
    --color-warning: #ffd60a;

    /* 文字颜色 */
    --color-text-primary: #f5f5f7;
    --color-text-secondary: #98989d;
    --color-text-tertiary: rgba(152, 152, 157, 0.4);
    --color-text-inverse: #1d1d1f;

    /* 背景颜色 */
    --color-bg-primary: #1c1c1e;
    --color-bg-secondary: rgba(28, 28, 30, 0.9);
    --color-bg-tertiary: rgba(28, 28, 30, 0.85);
    --color-bg-quaternary: rgba(28, 28, 30, 0.7);
    --color-bg-hover: rgba(255, 255, 255, 0.1);

    /* 边框颜色 */
    --color-border-primary: rgba(255, 255, 255, 0.1);
    --color-border-secondary: rgba(255, 255, 255, 0.15);

    /* 背景渐变 */
    --bg-gradient: linear-gradient(135deg, #1c1c1e 0%, #2c2c2e 50%, #1c1c1e 100%);

    /* 滚动条颜色 */
    --scrollbar-thumb: rgba(255, 255, 255, 0.2);
    --scrollbar-thumb-hover: rgba(255, 255, 255, 0.3);

    /* 便利贴背景 - 深色版本 */
    --note-bg: #3a3a2e;
    --note-grid: rgba(255, 255, 255, 0.015);
    --note-grid-size: 22px;
}

/* 全局样式 */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

html,
body {
    height: 100%;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

/* 自定义滚动条 */
.custom-scrollbar::-webkit-scrollbar {
    width: 8px;
}

.custom-scrollbar::-webkit-scrollbar-track {
    background: transparent;
}

.custom-scrollbar::-webkit-scrollbar-thumb {
    background: var(--scrollbar-thumb);
    border-radius: 4px;
}

.custom-scrollbar::-webkit-scrollbar-thumb:hover {
    background: var(--scrollbar-thumb-hover);
}

/* 日历样式 */
.calendar {
    max-width: 600px;
    margin: 0 auto;
}

.date-cell {
    min-height: 44px;
}

/* 便利贴格子背景 - 柔和效果 */
.note-paper-bg {
    background-color: var(--note-bg);
    background-image:
        linear-gradient(var(--note-grid) 2px, transparent 2px),
        linear-gradient(90deg, var(--note-grid) 2px, transparent 2px);
    background-size: var(--note-grid-size) var(--note-grid-size);
    background-position: -1px -1px;
}

/* 文本截断 - Tailwind 不支持的 webkit 属性 */
.line-clamp-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
}

/* 毛玻璃效果支持 */
@supports (backdrop-filter: blur(20px)) or (-webkit-backdrop-filter: blur(20px)) {
    .backdrop-blur-xl {
        -webkit-backdrop-filter: blur(20px);
        backdrop-filter: blur(20px);
    }

    .backdrop-blur-md {
        -webkit-backdrop-filter: blur(12px);
        backdrop-filter: blur(12px);
    }

    .backdrop-blur-sm {
        -webkit-backdrop-filter: blur(8px);
        backdrop-filter: blur(8px);
    }
}

/* 响应式调整 */
@media (orientation: landscape) {
    .calendar {
        max-width: 100%;
    }
}